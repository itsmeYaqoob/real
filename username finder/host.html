<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard: Username & Text Finder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: #181818;
      color: #eee;
      font-family: system-ui, Arial, sans-serif;
      overflow: hidden;
    }
    .top-bar {
      height: 56px;
      background: #23272e;
      display: flex;
      align-items: center;
      justify-content: start;
      padding: 0 2em;
      font-size: 1.3em;
      letter-spacing: .02em;
      border-bottom: 2px solid #24292f;
      user-select: none;
    }
    .tab-btn {
      background: none;
      border: none;
      color: #a8ff78;
      font-size: 1.1em;
      font-weight: 600;
      margin-right: 2em;
      cursor: pointer;
      padding: 8px 16px;
      border-radius: 8px 8px 0 0;
      transition: background .13s, color .13s;
    }
    .tab-btn.active, .tab-btn:hover {
      background: #343a40;
      color: #fff;
    }
    #splitter {
      width: 7px;
      background: #272727;
      cursor: col-resize;
      z-index: 2;
      transition: background .13s;
      user-select: none;
    }
    #splitter:hover, #splitter.dragging {
      background: #a8ff78;
    }
    .app-container {
      width: 100vw;
      height: calc(100vh - 56px);
      display: flex;
      position: relative;
      overflow: hidden;
    }
    .panel {
      height: 100%;
      min-width: 120px;
      max-width: 100vw;
      transition: width .13s;
      border: none;
      padding: 0;
      margin: 0;
      background: #222;
      box-sizing: border-box;
      display: block;
    }
    .hidden { display: none !important; }
    @media (max-width: 900px) {
      .top-bar { font-size: 1em; padding: 0 .4em; }
      .tab-btn { margin-right: .4em; font-size: .97em; }
      .app-container { flex-direction: column; }
    }
  </style>
</head>
<body>
  <div class="top-bar">
    <button class="tab-btn active" id="tabUser">Username Finder</button>
    <button class="tab-btn" id="tabText">Text Finder</button>
    <button class="tab-btn" id="tabSplit">Split View</button>
  </div>
  <div class="app-container" id="apps">
    <iframe src="username-finder.html" id="panelUser" class="panel" style="width: 100%;"></iframe>
    <div id="splitter" class="hidden"></div>
    <iframe src="text-finder.html" id="panelText" class="panel hidden" style="width: 100%;"></iframe>
  </div>
  <script>
    const tabUser = document.getElementById('tabUser');
    const tabText = document.getElementById('tabText');
    const tabSplit = document.getElementById('tabSplit');
    const panelUser = document.getElementById('panelUser');
    const panelText = document.getElementById('panelText');
    const splitter = document.getElementById('splitter');
    const apps = document.getElementById('apps');

    function setView(mode) {
      // Remove all states
      tabUser.classList.remove('active');
      tabText.classList.remove('active');
      tabSplit.classList.remove('active');
      splitter.classList.add('hidden');
      panelUser.classList.add('hidden');
      panelText.classList.add('hidden');
      panelUser.style.width = "100%";
      panelText.style.width = "100%";
      // Set new state
      if (mode === "user") {
        tabUser.classList.add('active');
        panelUser.classList.remove('hidden');
      } else if (mode === "text") {
        tabText.classList.add('active');
        panelText.classList.remove('hidden');
      } else if (mode === "split") {
        tabSplit.classList.add('active');
        panelUser.classList.remove('hidden');
        panelText.classList.remove('hidden');
        splitter.classList.remove('hidden');
        panelUser.style.width = "50%";
        panelText.style.width = "50%";
      }
    }

    tabUser.onclick = () => setView("user");
    tabText.onclick = () => setView("text");
    tabSplit.onclick = () => setView("split");

    // Splitter drag logic
    let isDragging = false;
    splitter.addEventListener('mousedown', function(e) {
      isDragging = true;
      splitter.classList.add('dragging');
      document.body.style.cursor = 'col-resize';
    });
    document.addEventListener('mousemove', function(e) {
      if (!isDragging) return;
      let containerRect = apps.getBoundingClientRect();
      let x = e.clientX - containerRect.left;
      let minW = 80;
      let maxW = containerRect.width - minW - splitter.offsetWidth;
      if (x < minW) x = minW;
      if (x > maxW) x = maxW;
      let percent = x / containerRect.width * 100;
      panelUser.style.width = percent + "%";
      panelText.style.width = (100 - percent) + "%";
    });
    document.addEventListener('mouseup', function(e) {
      if (isDragging) {
        isDragging = false;
        splitter.classList.remove('dragging');
        document.body.style.cursor = '';
      }
    });

    // Default to Username Finder tab
    setView("user");
  </script>
</body>
</html>